; generated by Component: ARM Compiler 5.06 update 6 (build 750) Tool: ArmCC [4d3637]
; commandline ArmCC [--list --split_sections --debug -c --asm --interleave -o.\stm3210e-eval\main.o --asm_dir=.\STM3210E-EVAL\ --list_dir=.\STM3210E-EVAL\ --depend=.\stm3210e-eval\main.d --cpu=Cortex-M3 --apcs=interwork -O3 --diag_suppress=9931 -I..\inc -I..\..\..\Libraries\CMSIS\Device\ST\STM32F10x\Include -I..\..\..\Libraries\STM32_USB-FS-Device_Driver\inc -I..\..\..\Libraries\STM32F10x_StdPeriph_Driver\inc -I..\..\..\Utilities\STM32_EVAL -I..\..\..\Utilities\STM32_EVAL\Common -I..\..\..\Utilities\STM32_EVAL\STM3210E_EVAL -ID:\Keil5\ARM\RV31\INC -ID:\Keil5\ARM\CMSIS\Include -ID:\Keil5\ARM\INC\ST\STM32F10x -D__MICROLIB -D__UVISION_VERSION=526 -DUSE_STDPERIPH_DRIVER -DSTM32F10X_HD -DUSE_STM3210E_EVAL --omf_browse=.\stm3210e-eval\main.crf ..\src\main.c]
                          THUMB

                          AREA ||i.main||, CODE, READONLY, ALIGN=2

                  main PROC
;;;58     *******************************************************************************/
;;;59     int main(void)
000000  2101              MOVS     r1,#1
;;;60     {
;;;61     #if defined (USE_STM32L152D_EVAL)
;;;62       FLASH_Unlock();
;;;63       FLASH_ClearFlag(FLASH_FLAG_OPTVERRUSR);
;;;64     #endif
;;;65     
;;;66     #if (USE_BKP_SAVE_FLAG == 1)
;;;67       RCC_APB1PeriphClockCmd(RCC_APB1ENR_PWREN | RCC_APB1ENR_BKPEN , ENABLE);
000002  f04f50c0          MOV      r0,#0x18000000
000006  f7fffffe          BL       RCC_APB1PeriphClockCmd
;;;68     #endif
;;;69         
;;;70       if((((*(__IO uint32_t*)ApplicationAddress) & 0x2FFE0000 ) != 0x20000000) || (BKP_ReadBackupRegister(IAP_FLAG_ADDR) == 0x5A5A))
00000a  4d12              LDR      r5,|L1.84|
00000c  6828              LDR      r0,[r5,#0]
00000e  4912              LDR      r1,|L1.88|
;;;71       { 
;;;72           /* Enter DFU mode */
;;;73           DeviceState = STATE_dfuERROR;
000010  4c12              LDR      r4,|L1.92|
000012  4008              ANDS     r0,r0,r1              ;70
000014  f1b05f00          CMP      r0,#0x20000000        ;70
000018  d10e              BNE      |L1.56|
00001a  2004              MOVS     r0,#4                 ;70
00001c  f7fffffe          BL       BKP_ReadBackupRegister
000020  f5a041b4          SUB      r1,r0,#0x5a00         ;70
000024  395a              SUBS     r1,r1,#0x5a           ;70
000026  d007              BEQ      |L1.56|
;;;74           DeviceStatus[0] = STATUS_ERRFIRMWARE;
;;;75           DeviceStatus[4] = DeviceState;
;;;76     
;;;77           Set_System();
;;;78           Set_USBClock();
;;;79           USB_Init(); 
;;;80       } 
;;;81       else
;;;82       { 
;;;83         /* Jump to user application */
;;;84         JumpAddress = *(__IO uint32_t*) (ApplicationAddress + 4);
000028  6868              LDR      r0,[r5,#4]
;;;85         Jump_To_Application = (pFunction) JumpAddress;
00002a  60a0              STR      r0,[r4,#8]  ; JumpAddress
;;;86         /* Initialize user application's Stack Pointer */
;;;87         __set_MSP(*(__IO uint32_t*) ApplicationAddress);
00002c  6060              STR      r0,[r4,#4]  ; Jump_To_Application
00002e  6829              LDR      r1,[r5,#0]
000030  f3818808          MSR      MSP,r1
;;;88         Jump_To_Application();
000034  4780              BLX      r0
                  |L1.54|
;;;89       }
;;;90         
;;;91       /* Main loop */
;;;92       while (1)
000036  e7fe              B        |L1.54|
                  |L1.56|
000038  4908              LDR      r1,|L1.92|
00003a  200a              MOVS     r0,#0xa               ;73
00003c  310c              ADDS     r1,r1,#0xc            ;74
00003e  7020              STRB     r0,[r4,#0]            ;73
000040  7008              STRB     r0,[r1,#0]            ;74
000042  7108              STRB     r0,[r1,#4]            ;75
000044  f7fffffe          BL       Set_System
000048  f7fffffe          BL       Set_USBClock
00004c  f7fffffe          BL       USB_Init
000050  e7f1              B        |L1.54|
;;;93       {
;;;94         
;;;95       }
;;;96     }
;;;97     
                          ENDP

000052  0000              DCW      0x0000
                  |L1.84|
                          DCD      0x08004000
                  |L1.88|
                          DCD      0x2ffe0000
                  |L1.92|
                          DCD      ||.data||

                          AREA ||.data||, DATA, ALIGN=2

                  DeviceState
000000  00000000          DCB      0x00,0x00,0x00,0x00
                  Jump_To_Application
                          DCD      0x00000000
                  JumpAddress
                          DCD      0x00000000
                  DeviceStatus
                          DCD      0x00000000
000010  0000              DCB      0x00,0x00

;*** Start embedded assembler ***

#line 1 "..\\src\\main.c"
	AREA ||.rev16_text||, CODE
	THUMB
	EXPORT |__asm___6_main_c_main____REV16|
#line 129 "D:\\Keil5\\ARM\\CMSIS\\Include\\core_cmInstr.h"
|__asm___6_main_c_main____REV16| PROC
#line 130

 rev16 r0, r0
 bx lr
	ENDP
	AREA ||.revsh_text||, CODE
	THUMB
	EXPORT |__asm___6_main_c_main____REVSH|
#line 144
|__asm___6_main_c_main____REVSH| PROC
#line 145

 revsh r0, r0
 bx lr
	ENDP

;*** End   embedded assembler ***

                  __ARM_use_no_argv EQU 0
